<!DOCTYPE html>
<head>
    <title id="t">Lsalwestfox Site</title>
    <style>
        * {
            padding: 0;
            margin: 0;
        }

        body {
            text-align: center;
            color: white;
            line-height: 1.6;
            font-size: 18px;
        }

        button {
            width: 100px;
            height: 50px;

            background-color: blue;
            border-color: white;
            color: white;
        }

        button:hover {
            background-color: blueviolet;
            transform: translateY(-5px) scale(1.1);
            filter: drop-shadow(0px 0px 5px black);
        }

        blockquote {
            border-left: 5px solid #fff;
            margin-left: 20px;
            padding-left: 5px;
            background-color: #f9f9f920;
        }

        blockquote footer {
            text-align: right;
            font-size: 1em;
            margin-top: 10px;
            padding-right: 10px;
        }

        a {
            color: #fff;
            text-decoration: underline;
        }

        a:hover {
            border-top: 5px solid #fff;
            text-decoration: none;
        }

        ul {
            padding-left: 48px;
        }

        .box {
            padding-left: calc(50% - 390px);
            width: 780px;
            text-align: left;
        }

        .article-entry {
            display: block;
            padding-left: 20px;
            transition: padding-left ease-in-out 80ms;
        }

        .article-entry:hover {
            text-decoration: underline;
            cursor: pointer;
            padding-left: 80px;
            transition: padding-left ease-in-out 80ms;
        }

        .article-exit:hover {
            text-decoration: underline;
            cursor: pointer;
        }

        .article-radical {
            display: inline;
        }

        .hidden {
            display: none;
        }

        .quote {
            padding-left: 32px;
        }

        #vfx {
            position: absolute;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -99999999;
        }

        #article > .box {
            width: 650px;
            padding-left: calc(50% - 325px);
        }
    </style>
</head>
<body>
    <canvas id="vfx"></canvas>
    <div id="main">
        <br>
        <br>
        <img src="./media/title.png" id="title">
        <br>
        <br>
        <a href="./index.html"><img src="./media/btn.png"></a>
        <br>
        <h3>I'm lsalwestfox (first letter not pronounced)</h3>
        <h5>in japaneese it translates to サロメツホコ</h5>
        <h3 id="asl">A/S/L: {}M/Ukraine</h3>
        <h3>Discord: imnotbillcipher</h3>
        <script>with(document.getElementById('asl')) {
            innerHTML = innerHTML.replace('{}', new Date().getFullYear() - 2009);
        }</script>
        <br>
        <a href="./pages/blog.html"><button>Blog</button></a>
        <a href="./pages/evilblog.html"><button>"EvIl" blog</button></a>
        <a href="./pages/very_important.html"><button>Special page</button></a>
        <div class="box">
            <h3>Articles:</h3>
            <div id="article-gen">
            </div>
        </div>
        <br>
        <p>End of page, here's big notepad</p>
        <textarea style="width: 650px; height: 500px"></textarea>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
    </div>
    <div id="article" class="hidden"></div>
</body>
<script>
    const articledb = [
        [ "Learning カタカナ (katakana)",         "japantools", "17/11/2025 at 09:48pm", "17/11/2025 at 09:48pm" ],
        [ "Just use hypermedia (remake)",        "hypmed",     "02/11/2025 at 12:24pm", "02/11/2025 at 12:24pm" ],
        [ "Redesigning website",                 "redesign",   "02/11/2025 at 05:19pm", "02/11/2025 at 05:19pm" ],
        [ "Writing advanced todo list CLI util", "atl",        "12/11/2025 at 09:09pm", "12/11/2025 at 09:09pm" ],
    ];

    const titl = document.getElementById('t');
    const articlebox = document.getElementById('article');
    const mainbox = document.getElementById('main');
    const url = new URL(window.location.href);
    const params = new URLSearchParams(url.search);

    with(document.getElementById('article-gen')) {
        for(let i = 0; i < articledb.length; i++) {
            innerHTML += `<h4 class='article-entry' onClick='setArticle(${i})'>- ${articledb[i][0]}</h4>`;
        }
    }

    function setArticle(i) {
        setArticleEx(articledb[i], i);
    }

    function setArticleEx(articl, i) {
        titl.innerHTML = articl[0];
        var xhr = new XMLHttpRequest();
        xhr.open("GET", `./articles/${articl[1]}.html`, true);
        xhr.onreadystatechange = function() {
            if(xhr.readyState === 4 && xhr.status === 200) {
                articlebox.innerHTML = `<br><h3>Created: ${articl[2]}</h3><h3>Edited: ${articl[3]}</h3><h3 class='article-exit' onClick='exitArticle()'>Go to main</h3><br>${xhr.responseText}<br><br><br><br><br><br><br><br><br><br>`;
                const scripts = articlebox.getElementsByTagName('script');
                for(script of scripts) {
                    const script_out = document.createElement('script');
                    script_out.type = script.type || 'text/javascript';
                    if(script.src) {
                        script_out.src = script.src;
                    } else {
                        script_out.text = script.innerHTML;
                    }
                    document.body.appendChild(script_out);
                }
            }
        }
        xhr.send();
        mainbox.classList.add('hidden');
        articlebox.classList.remove('hidden');
        params.set("article", i);
        window.history.replaceState({}, '', `${url.pathname}?${params}`);
    }

    function exitArticle() {
        titl.innerHTML = 'Lsalwestfox Site';
        mainbox.classList.remove('hidden');
        articlebox.classList.add('hidden');
        window.history.replaceState({}, '', url.pathname);
    }

    if(params.has("article")) {
        setArticle(params.get("article"));
    }
</script>
<script> // script for fargo (terraria mod) menu effect
    const canvas = document.getElementById('vfx');
    window.onscroll = () => canvas.style.top = `${window.pageYOffset}px`;
    const title = document.getElementById('title');
    /** @type {CanvasRenderingContext2D} */
    const ctx = canvas.getContext("2d");
    
    const random = (min, max) => Math.round(Math.random() * (max - min)) + min;
    const particles = 50;
    const objects = [];

    const scalepengilum = 0.2;
    const anglepengilum = 3;
    let lerp = 3.5;

    const coef = Math.PI / 4.5

    setInterval(() => {
        lerp = (lerp + 0.002) % 4;
        let scale = 1 + Math.sin(lerp * Math.PI) * scalepengilum;
        let angle = Math.sin(0.5  * Math.PI * (lerp + 0.5)) * anglepengilum;
        title.style.transform = `rotateZ(${angle}deg) scale(${scale})`;
    }, 10);

    for(let i = 0; i < particles; i++) {
        let x = {}
        resetParticle(x);
        objects.push(x);
    }

    function resetParticle(o) {
        o.x = -300;
        o.y = random(-100, canvas.clientHeight + 300);
        o.width = random(100, 200);
        o.speed = random(100, 200);
    }

    let hue = 162;
    setInterval(() => {
        hue = (hue + 1) % 360;
    }, 200);

    const draws = [];

    setInterval(() => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const gradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
        gradient.addColorStop(0,   `hsl(${hue}, 70.00%, 11.76%)`)
        gradient.addColorStop(0.7, `hsl(${hue}, 66.36%, 43.14%)`)
        gradient.addColorStop(1,   `hsl(${hue}, 67.90%, 31.76%)`)
        ctx.fillStyle = gradient;
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        for(let i = 0; i < particles; i++) {
            ctx.fillStyle = `hsl(${hue}, 66.36%, 53.14%)`;
            let part = objects[i];
            ctx.fillRect(part.x, part.y, part.width, 1);
            part.x += part.speed;
            if(part.x > canvas.width + 100) {
                resetParticle(part);
            }
            objects[i] = part;
        }

        for(draw of draws) {
            draw();
        }
    }, 10);
</script>